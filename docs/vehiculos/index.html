<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Vehicle Listings</title>
</head>

<body>
  <h1>Página de Inicio</h1>

  <!-- Example links to detail page with hash id -->
  <a href="/test-links/detalle-vehiculo/#mdl-vo-23423">Ver vehículo de ocasión - mdl-vo-23423</a><br />
  <a href="/test-links/detalle-vehiculo/#peugeot-2008">Ver vehículo nuevo - peugeot-2008</a><br />

  <button onclick="goHome()">Volver a Inicio</button>

  <script>
    function getVehicleType() {
      const path = window.location.pathname.toLowerCase();
      const hash = window.location.hash.toLowerCase();

      // Check for simple hash filters #nuevos or #ocasion (for listings filtering)
      if (hash === "#nuevos") return true;
      if (hash === "#ocasion") return false;

      // Check if on /detalle-vehiculo/ detail page with hash vehicle ID (no 'id=' prefix)
      if (path.includes("/detalle-vehiculo/") && hash.startsWith("#")) {
        const vehicleId = hash.substring(1);  // remove leading '#'
        if (vehicleId.startsWith("mdl-vo-")) return false; // Used vehicle
        if (vehicleId) return true; // New vehicle
      }

      // Not enough info, return null (no redirect)
      return null;
    }

    function goHome() {
      window.location.href = "/";
    }

    const isNew = getVehicleType();
    if (isNew !== null) {
      console.log("Is new vehicle:", isNew);
      // Additional logic to render new or used listings/details here
    } else {
      console.log("Unknown vehicle type or not a vehicle page.");
    }
  </script>
</body>

</html>
